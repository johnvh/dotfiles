#!/bin/bash

#K="\[\033[0;30m\]"    # black
red="\033[0;31m"    # red
green="\033[0;32m"    # green
yellow="\033[0;33m"    # yellow
blue="\033[0;34m"    # blue
magenta="\033[0;35m"    # magenta
cyan="\033[0;36m"    # cyan
white="\033[0;37m"    # white

NONE="\033[0m" # term fg

if [ -n "$2" ]; then
	#TODO: color argument?
	echo -e "color: $2"
	eval c=\$$2
	if [ -n "$c" ]; then
		color="$c"
	else
		color=$red
	fi;
else
	color=$red
fi;

perl -pi -e "s/($1)/$color\1$NONE/g" < /dev/stdin
